<% layout('layout') %>

<div class="legal-container">
  <div class="legal-content">
    <h1 class="legal-title">Privacy Policy</h1>
    <p class="legal-updated">Last Updated: <%= new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) %></p>
    
    <section class="legal-section">
      <h2>1. Introduction</h2>
      <p>Peer ("we", "our", or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our Service.</p>
    </section>
    
    <section class="legal-section">
      <h2>2. Information We Collect</h2>
      
      <h3>2.1 Information from GitHub</h3>
      <p>When you authenticate with GitHub, we collect:</p>
      <ul>
        <li>Your GitHub username and profile information</li>
        <li>Your email address (if public)</li>
        <li>Repository access permissions you grant</li>
        <li>Pull request data and commit information</li>
      </ul>
      
      <h3>2.2 Code Data</h3>
      <p>We temporarily process your code to provide analysis services. This includes:</p>
      <ul>
        <li>Source code files in pull requests</li>
        <li>Commit messages and metadata</li>
        <li>Code changes and diffs</li>
      </ul>
      <p><strong>Important:</strong> Your code is analyzed in memory and not permanently stored on our servers unless you explicitly enable code retention features.</p>
      
      <h3>2.3 Usage Data</h3>
      <p>We automatically collect:</p>
      <ul>
        <li>IP address and browser information</li>
        <li>Pages visited and features used</li>
        <li>Usage patterns and performance metrics</li>
        <li>Error logs and diagnostics</li>
      </ul>
      
      <h3>2.4 Payment Information</h3>
      <p>When you make a purchase:</p>
      <ul>
        <li>Payment processing is handled by Razorpay</li>
        <li>We store transaction IDs and payment status</li>
        <li>We do not store credit card numbers or sensitive payment details</li>
      </ul>
    </section>
    
    <section class="legal-section">
      <h2>3. How We Use Your Information</h2>
      <p>We use the collected information to:</p>
      <ul>
        <li>Provide and maintain the Service</li>
        <li>Analyze code and generate review feedback</li>
        <li>Process payments and manage subscriptions</li>
        <li>Send service notifications and updates</li>
        <li>Improve service quality and user experience</li>
        <li>Detect and prevent fraud or abuse</li>
        <li>Comply with legal obligations</li>
      </ul>
    </section>
    
    <section class="legal-section">
      <h2>4. Third-Party Services</h2>
      <p>We integrate with the following third-party services:</p>
      
      <h3>4.1 GitHub</h3>
      <p>Authentication and repository access through GitHub OAuth. Review <a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement" target="_blank">GitHub's Privacy Policy</a>.</p>
      
      <h3>4.2 Razorpay</h3>
      <p>Payment processing for subscriptions and token purchases. Review <a href="https://razorpay.com/privacy/" target="_blank">Razorpay's Privacy Policy</a>.</p>
      
      <h3>4.3 AI/LLM Providers</h3>
      <p>We use third-party AI services (OpenAI, Anthropic, Google) for code analysis. Code snippets are sent to these providers for analysis but are not used for training their models.</p>
    </section>
    
    <section class="legal-section">
      <h2>5. Data Storage and Security</h2>
      <p>We implement industry-standard security measures:</p>
      <ul>
        <li>Data encryption in transit (TLS/HTTPS)</li>
        <li>Secure database storage with access controls</li>
        <li>Regular security audits and updates</li>
        <li>Limited employee access on a need-to-know basis</li>
        <li>Automated monitoring and alerting</li>
      </ul>
      <p>However, no method of transmission over the internet is 100% secure. While we strive to protect your data, we cannot guarantee absolute security.</p>
    </section>
    
    <section class="legal-section">
      <h2>6. Data Retention</h2>
      <p>We retain your information as follows:</p>
      <ul>
        <li><strong>Account Data:</strong> Retained while your account is active and for 90 days after deletion</li>
        <li><strong>Code Analysis:</strong> Temporarily processed and not stored permanently</li>
        <li><strong>Transaction Records:</strong> Retained for 7 years for tax and legal compliance</li>
        <li><strong>Usage Logs:</strong> Retained for 90 days for troubleshooting and analytics</li>
      </ul>
    </section>
    
    <section class="legal-section">
      <h2>7. Your Rights</h2>
      <p>You have the following rights regarding your data:</p>
      <ul>
        <li><strong>Access:</strong> Request a copy of your personal data</li>
        <li><strong>Correction:</strong> Update or correct inaccurate data</li>
        <li><strong>Deletion:</strong> Request deletion of your account and data</li>
        <li><strong>Portability:</strong> Export your data in a machine-readable format</li>
        <li><strong>Objection:</strong> Object to certain data processing activities</li>
        <li><strong>Withdraw Consent:</strong> Revoke permissions at any time</li>
      </ul>
      <p>To exercise these rights, contact us at <a href="mailto:anirbansantra748@gmail.com">anirbansantra748@gmail.com</a>.</p>
    </section>
    
    <section class="legal-section">
      <h2>8. Cookies and Tracking</h2>
      <p>We use cookies and similar technologies for:</p>
      <ul>
        <li>Session management and authentication</li>
        <li>User preferences and settings</li>
        <li>Analytics and performance monitoring</li>
      </ul>
      <p>You can control cookies through your browser settings, but this may affect Service functionality.</p>
    </section>
    
    <section class="legal-section">
      <h2>9. Children's Privacy</h2>
      <p>Our Service is not intended for users under 13 years of age. We do not knowingly collect personal information from children. If you believe we have collected data from a child, please contact us immediately.</p>
    </section>
    
    <section class="legal-section">
      <h2>10. International Data Transfers</h2>
      <p>Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers in compliance with applicable data protection laws.</p>
    </section>
    
    <section class="legal-section">
      <h2>11. Changes to This Policy</h2>
      <p>We may update this Privacy Policy from time to time. We will notify you of material changes via email or through the Service. Your continued use after changes indicates acceptance of the updated policy.</p>
    </section>
    
    <section class="legal-section">
      <h2>12. Contact Us</h2>
      <p>If you have questions about this Privacy Policy or our data practices, please contact us:</p>
      <ul>
        <li>Email: <a href="mailto:anirbansantra748@gmail.com">anirbansantra748@gmail.com</a></li>
        <li>Support: <a href="/support">Support Page</a></li>
      </ul>
    </section>
    
    <section class="legal-section">
      <h2>13. Data Protection Officer</h2>
      <p>For data protection inquiries specific to GDPR or other regulations, you may contact our Data Protection Officer at <a href="mailto:anirbansantra748@gmail.com">anirbansantra748@gmail.com</a>.</p>
    </section>
  </div>
</div>

<style>
  .legal-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 60px 24px;
  }
  
  .legal-content {
    background: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    border-radius: 12px;
    padding: 48px;
  }
  
  .legal-title {
    font-size: 42px;
    font-weight: 800;
    color: var(--text-primary);
    margin-bottom: 12px;
  }
  
  .legal-updated {
    color: var(--text-secondary);
    font-size: 14px;
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 2px solid var(--border-primary);
  }
  
  .legal-section {
    margin-bottom: 40px;
  }
  
  .legal-section h2 {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 16px;
  }
  
  .legal-section h3 {
    font-size: 19px;
    font-weight: 600;
    color: var(--text-primary);
    margin-top: 24px;
    margin-bottom: 12px;
  }
  
  .legal-section p {
    color: var(--text-secondary);
    line-height: 1.8;
    margin-bottom: 12px;
    font-size: 16px;
  }
  
  .legal-section ul {
    list-style: disc;
    margin-left: 24px;
    color: var(--text-secondary);
    line-height: 1.8;
  }
  
  .legal-section li {
    margin-bottom: 8px;
    font-size: 16px;
  }
  
  .legal-section a {
    color: var(--accent-primary);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s ease;
  }
  
  .legal-section a:hover {
    border-bottom-color: var(--accent-primary);
  }
  
  @media (max-width: 768px) {
    .legal-container {
      padding: 40px 16px;
    }
    
    .legal-content {
      padding: 32px 24px;
    }
    
    .legal-title {
      font-size: 32px;
    }
    
    .legal-section h2 {
      font-size: 20px;
    }
    
    .legal-section h3 {
      font-size: 18px;
    }
    
    .legal-section p,
    .legal-section li {
      font-size: 15px;
    }
  }
</style>
